<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="project.mini.board.file.mapper.FileMapper">
    <insert id="insertAttachFile" parameterType="map">
        INSERT INTO file
        (
          file_name
        , file_ext
        , file_save_path
        , reg_member
        , reg_date
        , mod_member
        , mod_date
        )
        VALUES
        (
          #{file.fileName}
        , #{file.fileExtension}
        , #{file.fileUsage}
        , #{file.fileSavePath}
        , #{member.id}
        , NOW()
        , #{member.id}
        , NOW()
        )
        <selectKey order="AFTER" keyProperty="fileId">
            SELECT LAST_INSERT_ID()
        </selectKey>
    </insert>
</mapper>